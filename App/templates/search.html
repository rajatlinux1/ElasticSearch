{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <title>Elastic Search</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <!-- <link rel="stylesheet" href="style.css"> -->
    <style>
      .main {
    width: 80%;
    margin: 50px auto;
}
body{
      background: rgb(238,174,202);
      background: radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%);
}
.has-search .form-control {
    padding-left: 2.375rem;
}

.has-search .form-control-feedback {
    position: absolute;
    z-index: 2;
    display: block;
    width: 2.375rem;
    height: 2.375rem;
    line-height: 2.375rem;
    text-align: center;
    pointer-events: none;
    color: #aaa;
}
    </style>
  </head>
  <body>
    <div class="main">
  
  <!-- Actual search box -->
  <div class="form-group has-search">
    <form action="" method="POST">
      {% csrf_token %}
      <span class="fa fa-search form-control-feedback"></span>
    <input type="text" class="form-control" name="search" id="search" placeholder="Name">
    </form>
  </div>
  <div class="mt-4 text-center">
    {% if content %}
    <table class="table">
  <thead>
    <tr>
      <th scope="col">Id</th>
      <th scope="col">Name</th>
      <th scope="col">Email</th>
      <th scope="col">City</th>
      <th scope="col">Profile Pic</th>
    </tr>
  </thead>
  <tbody>
    {{content}}
    {% for i in content %}
    <tr>
      <th scope="row">{{i.id}}</th>
      <td>{{i.name}}</td>
      <td>{{i.email}}</td>
      <td>{{i.city}}</td>
      <td ><img class="rounded-circle" src="{{ i.profile_pic }}" width="50" height="50"></td>
    </tr>
    
    
    {% endfor %}
  </tbody>
</table>
{% endif %}
  </div>
</div>
  </body>
  {% comment %} <script>
   $(document).ready(function(){
    $(document).on('keyup','#search',function(e){
      var searchvalue = $(this).val();
      console.log(searchvalue)
      $.ajax({
        type: "GET",
        url:"{% url '/' %}",
        data: {'searchvalue': searchvalue},
      })
    })
   
   })

    
    
  </script> {% endcomment %}
</html>
